#pragma once

#include "../../../transcript/transcript.cuh"
#include "../../../bls12_381/edwards.cuh"
#include "../../../arithmetic.cuh"
#include "../permutation/constants.cuh"

std::vector<SyncedMemory> compute_quotient_poly(
    uint64_t n,
    ProverKey pk,
    std::vector<SyncedMemory> ck,
    SyncedMemory chunk_msm_workspace, SyncedMemory chunk_msm_out,
    std::vector<SyncedMemory> wl_commits_step1,
    std::vector<SyncedMemory> wr_commits_step1,
    std::vector<SyncedMemory> wo_commits_step1,
    std::vector<SyncedMemory> w4_commits_step1,
    std::vector<SyncedMemory> global_buffer,
    SyncedMemory w_l, 
    SyncedMemory w_r, 
    SyncedMemory w_o, 
    SyncedMemory w_4,
    SyncedMemory pi,
    SyncedMemory w_l_8n,
    SyncedMemory w_r_8n,
    SyncedMemory w_o_8n,
    SyncedMemory w_4_8n,
    SyncedMemory pi_8n,
    SyncedMemory z_eval_8n,
    SyncedMemory z2_eval_8n,
    SyncedMemory table_eval_8n,
    SyncedMemory h1_eval_8n,
    SyncedMemory h2_eval_8n,
    SyncedMemory l1_eval_8n,
    SyncedMemory f_eval_8n,
    std::vector<SyncedMemory> z_chunks,
    std::vector<SyncedMemory> z2_chunks,
    std::vector<SyncedMemory> f_chunks,
    std::vector<SyncedMemory> table_chunks,
    std::vector<SyncedMemory> h1_chunks,
    std::vector<SyncedMemory> h2_chunks,
    SyncedMemory alpha,
    SyncedMemory beta,
    SyncedMemory gamma,
    SyncedMemory delta,
    SyncedMemory epsilon,
    SyncedMemory zeta,
    SyncedMemory range_challenge,
    SyncedMemory logic_challenge,
    SyncedMemory fixed_base_challenge,
    SyncedMemory var_base_challenge,
    SyncedMemory lookup_challenge,
    uint32_t* ntt_step1_map,
    uint32_t* ntt_step2_map,
    uint32_t* ntt_step3_map,
    SyncedMemory lde_cpu_map,
    SyncedMemory lde_input,
    std::vector<SyncedMemory> lde_cpu_buffer,
    int lg_LDE,
    int chunk_num,
    Transcript transcript,
    cudaStream_t stream1,
    cudaStream_t stream2);